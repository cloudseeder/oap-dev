# OAP Discovery — default configuration
# Override any value with OAP_<SECTION>_<KEY> environment variables.
# Example: OAP_OLLAMA_BASE_URL=http://remote:11434

ollama:
  base_url: "http://localhost:11434"
  embed_model: "nomic-embed-text"
  generate_model: "qwen3:4b"
  timeout: 30

chromadb:
  path: "./oap_data"
  collection: "manifests"

crawler:
  seeds_file: "seeds.txt"
  seeds_dir: "seeds"
  interval: 3600         # seconds between crawl cycles
  concurrency: 5
  user_agent: "oap-crawler/0.1"
  request_timeout: 10

api:
  host: "0.0.0.0"
  port: 8300

# Procedural memory (experimental) — see docs/OAP-PROCEDURAL-MEMORY-PAPER.md
# Set enabled: true to activate experience-augmented discovery.
experience:
  enabled: false
  db_path: "./oap_experience.db"
  confidence_threshold: 0.85
  max_records: 10000
  invoke_timeout: 30
  stdio_timeout: 10

# Ollama tool bridge — exposes /v1/tools and /v1/chat endpoints
# that convert OAP manifests to Ollama tool definitions.
tool_bridge:
  enabled: true
  default_top_k: 3
  max_rounds: 3
  ollama_timeout: 120    # seconds for Ollama /api/chat calls (model inference)
  http_timeout: 30       # seconds for HTTP tool execution against manifest endpoints
  stdio_timeout: 10
